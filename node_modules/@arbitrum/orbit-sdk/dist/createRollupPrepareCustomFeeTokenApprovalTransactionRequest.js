"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createRollupPrepareCustomFeeTokenApprovalTransactionRequest = void 0;
const viem_1 = require("viem");
const erc20_1 = require("./utils/erc20");
const ParentChain_1 = require("./types/ParentChain");
const contracts_1 = require("./contracts");
async function createRollupPrepareCustomFeeTokenApprovalTransactionRequest({ amount = viem_1.maxInt256, nativeToken, account, publicClient, }) {
    const chainId = publicClient.chain?.id;
    if (!(0, ParentChain_1.validParentChainId)(chainId)) {
        throw new Error('chainId is undefined');
    }
    const request = await (0, erc20_1.approvePrepareTransactionRequest)({
        address: nativeToken,
        owner: account,
        spender: contracts_1.rollupCreator.address[chainId],
        amount,
        publicClient,
    });
    return { ...request, chainId };
}
exports.createRollupPrepareCustomFeeTokenApprovalTransactionRequest = createRollupPrepareCustomFeeTokenApprovalTransactionRequest;
